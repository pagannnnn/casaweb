<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Inventario</title>
  <link rel="stylesheet" href="../css/inventario.css">
</head>

<body>
  <header>
    <nav id="menu">
      <a href="./administrador.html" class="logo"><img src="../imagenes/logo.png" alt="Logo"></a>
      <ul>
        <li><a href="./proveedor.html">Proveedores</a></li>
        <li><a href="./inventario.html">Inventario</a></li>
        <li><a href="./personal.html">Personal</a></li>
        <li><a href="./facturas.html">Facturas</a></li>
      </ul>
    </nav>
  </header>

  <section class="contenido">
    <h1>Inventario General</h1>

    <table id="tablaInventario">
      <tr>
        <th>Producto</th>
        <th>Categoría</th>
        <th>Cantidad</th>
        <th>Precio Unitario</th>
        <th>Acciones</th>
      </tr>
      <tr>
        <td>Leche</td><td>Lácteos</td><td>120</td><td>$22.00</td>
        <td>
          <button class="editar" onclick="editarFila(this)">Editar</button>
          <button class="eliminar" onclick="eliminarFila(this)">Eliminar</button>
        </td>
      </tr>
      <tr>
        <td>Carne de res</td><td>Cárnicos</td><td>80 kg</td><td>$150.00</td>
        <td>
          <button class="editar" onclick="editarFila(this)">Editar</button>
          <button class="eliminar" onclick="eliminarFila(this)">Eliminar</button>
        </td>
      </tr>
      <tr>
        <td>Agua embotellada</td><td>Bebidas</td><td>300</td><td>$12.00</td>
        <td>
          <button class="editar" onclick="editarFila(this)">Editar</button>
          <button class="eliminar" onclick="eliminarFila(this)">Eliminar</button>
        </td>
      </tr>
    </table>

    <div class="botones">
      <button onclick="agregarFila()">➕ Más</button>
    </div>
  </section>

  <script>
    function agregarFila() {
      const tabla = document.getElementById("tablaInventario");
      const fila = tabla.insertRow(-1);

      const producto = prompt("Nombre del producto:");
      if (!producto) return;
      const categoria = prompt("Categoría:");
      const cantidad = prompt("Cantidad (ej. 120, 50 kg, etc.):");
      const precio = prompt("Precio unitario:");

      fila.innerHTML = `
        <td>${producto}</td>
        <td>${categoria}</td>
        <td>${cantidad}</td>
        <td>$${precio}</td>
        <td>
          <button class="editar" onclick="editarFila(this)">Editar</button>
          <button class="eliminar" onclick="eliminarFila(this)">Eliminar</button>
        </td>
      `;
    }

    function eliminarFila(boton) {
      const fila = boton.parentNode.parentNode;
      fila.remove();
    }

    function editarFila(boton) {
      const fila = boton.parentNode.parentNode;
      const celdas = fila.getElementsByTagName("td");

      const producto = prompt("Editar producto:", celdas[0].innerText);
      if (producto !== null) celdas[0].innerText = producto;

      const categoria = prompt("Editar categoría:", celdas[1].innerText);
      if (categoria !== null) celdas[1].innerText = categoria;

      const cantidad = prompt("Editar cantidad:", celdas[2].innerText);
      if (cantidad !== null) celdas[2].innerText = cantidad;

      const precio = prompt("Editar precio unitario:", celdas[3].innerText.replace('$', ''));
      if (precio !== null) celdas[3].innerText = `$${precio}`;
    }
  </script>
</body>
</html>